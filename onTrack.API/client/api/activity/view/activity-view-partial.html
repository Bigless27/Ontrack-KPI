<h1>Activity</h1>
<table class = 'table table-striped'>
	<tr>
		<th>Name</th>
		<td>
			<span 
				editable-text = 'activity.name'
					e-form = 'name'
					onbeforesave = 'updateName($data)'>
					{{activity.name || 'empty'}}
				</span>
			</td>
			<td>
				<a href=""  ng-click="name.$show()" ng-hide="name.$visible">Edit</a>
			</td>
		</tr>
		<tr>
			<th>Type</th>
			<td>
				<span 
					id = 'activity-type-edit'  
					style = 'color:black; border: none;'
					editable-select="activity.type" 
					e-ng-options="s for s in typeList" onbeforesave = 'updateType($data)'
				>
					{{activity.type || 'empty'}}
				</span>
			</td>
			<td>
				<a href="" id = 'activity-type-edit-button'>Edit</a>
			</td>
		</tr>
		<tr>
			<th>Subtypes</th>
			<td> 
				<span ng-show = '!subTags'>
					<ul ng-show = '!noSubs' ng-repeat = 'sub in activity.subTypes '>
						<li>
							{{sub.name}}
						</li>
					</ul>
					<span ng-show = 'noSubs' class ='label label-danger'>Empty!</span>
				</span>
				<span ng-show = 'subTags' style = 'width: 200px;'>
					<multiple-autocomplete 
						ng-model="activity.subTypes"
	     				object-property = "name"
	     				after-remove-item = 'afterRemoveItem'
	     				suggestions-arr= "subTypes"
	     				required = 'true'>
					</multiple-autocomplete>
					<span class = 'btn btn-info' ng-click = 'updateSubtypes(activity.subTypes)'><i class = 'glyphicon glyphicon-ok' aria-hidden = 'true'></i></span>
					<span class = 'btn btn-danger' ng-disabled = 'subDups' ng-click= 'toggleEditSubs()'><i class = 'glyphicon glyphicon-remove'></i></span>
				</span>
				<span ng-show = 'subDups' class = 'label label-danger'>Can't have Duplicate subTypes!!</span>
			</td>
			<td>
				<a ng-click = 'toggleEditSubs()' ng-show = '!subTags'>
				Edit
				</a>
			</td>
		</tr>
		<tr>
			<th>Users</th>
			<td>
				<span ng-show = '!userTags'>
					<ul ng-show = '!noUsers' ng-repeat = 'u in activity.users'>
						<li>
							{{u.firstName}} {{u.lastName}}
						</li>
					</ul>
					<span ng-show = 'noUsers' class ='label label-danger'>Empty!</span>
				</span>
				<span ng-show = 'userTags' style = 'width: 200px;'>
					<multiple-autocomplete 
						ng-model="initUsers"
	     				object-property = "fullName"
	     				suggestions-arr="optionsList"
	     				required = 'true'>
					</multiple-autocomplete>
					<span class = 'btn btn-info' ng-click = 'updateUsers(initUsers)'><i class = 'glyphicon glyphicon-ok' aria-hidden = 'true'></i></span>
					<span class = 'btn btn-danger' ng-click= 'toggleEditUsers()'><i class = 'glyphicon glyphicon-remove'></i></span>
				</span>
			</td>
			<td>
				<a ng-click = 'toggleEditUsers()' ng-show = '!userTags'>
					Edit
				</a>
			</td>
		</tr>
		<tr>
			<th>Clients</th>
			<td>
				<span ng-show = '!clientTags'>
					<ul ng-repeat = 'client in activity.clients'>
						<li>{{client.name}}</li>
					</ul>
				</span>
				<span ng-show = 'clientTags' style = 'width: 200px;'>
					<multiple-autocomplete 
						ng-model="newClients"
	     				object-property = "name"
	     				suggestions-arr="clients"
	     				required = 'true'>
					</multiple-autocomplete>
					<span class = 'btn btn-info' ng-click = 'updateClients(newClients)'><i class = 'glyphicon glyphicon-ok' aria-hidden = 'true'></i></span>
					<span class = 'btn btn-danger' ng-click= 'toggleEditClients()'><i class = 'glyphicon glyphicon-remove'></i></span>
				</span>
				<span class = 'label label-danger' ng-show = 'clientErr'>
					{{clientErrMessage}}
				</span>
			</td>
			<td>
				<a ng-click = "toggleEditClients()" ng-show = "!clientTags">Edit</a>
				
			</td>
		</tr>
		<tr>
			<th>Value</th>
			<td>
				<span editable-text="activity.value" e-form="value" onbeforesave="updateValue($data)">
					{{activity.value || 'empty'}}
				</span>
			</td>
			<td>
				<a href="" ng-click="value.$show()" ng-hide="value.$visible">Edit</a>
			</td>
		</tr>
		<tr>
			<th>Date</th>
			<td>
				<span
					id = 'activity-date-edit'
					e-min-year = '2016'
					e-max-year = '2030'
					editable-combodate = 'activity.date' 
					style = 'color:black; border-bottom:none;'
					onbeforesave = 'updateDate($data)'
					>
					{{(activity.date | date:'medium') || 'empty'}}
				</span>
			</td>
			<td>
				<a href="" id = 'activity-date-edit-button'>Edit</a>
			</td>
		</tr>
	</table>
</table>
<span class = 'btn btn-danger' ng-click = 'deleteActivity(activity)'><i class="glyphicon glyphicon-trash" aria-hidden="true"></i></span>

<div class = 'btn btn-default' ui-sref = 'activity'>Back</div>
<div class ></div>