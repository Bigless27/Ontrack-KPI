<h1>KPI</h1>


<table class = 'table table-striped'>
		<tr>
			<th>Name:</th>
			<td>
				<span editable-text="kpi.name" e-form="name" onbeforesave="updateName($data)">{{kpi.name || 'empty'}}</span>
			</td>
			<td>
				<a href="" ng-click="name.$show()" ng-hide="name.$visible">Edit</a>
			</td>
		</tr>
		<tr>
			<th>Type</th>
			<td>
				<span 
					id = 'kpi-type-edit'  
					style = 'color:black; text-decoration:none;'
					editable-select="kpi.type" 
					e-ng-options="s for s in typeList" onbeforesave = 'updateType($data)'
				>
					{{kpi.type || 'empty'}}
				</span>
			</td>
			<td>
				<a href="" id = 'kpi-type-edit-button'>Edit</a>
			</td>
		</tr>
		<tr>
			<th>Subtypes</th>
			<td> 
				<!-- tiny bug with below on init, come back to this -->
				<span 
					id = 'kpi-subType-edit' 
					class = 'bootstrap'
					editable-tags-input="subTypes"
					data-e-form="ngTagsForm"
					data-e-name="subTypes"
					name="subTypes"
					onbeforesave = 'updateSubtypes($data)'
					data-e-ng-model="kpi.subTypes"
					>
				 	<editable-tags-input-auto-complete source="subTypes"></editable-tags-input-auto-complete>
					<ul ng-repeat = 'sub in kpi.subTypes'>
						<li>
							{{sub.text || 'empty'}}
						</li>
					</ul>
				</span>
			</td>
			<td>
				<a type="button" ng-click="ngTagsForm.$show()" ng-show="!ngTagsForm.$visible">
			        Edit
			    </a>
			</td>
		</tr>
		<tr>
			<th>Value:</th>
			<td>
				<span editable-text="kpi.value" e-form="value" onbeforesave="updateValue($data)">{{kpi.value || 'empty'}}</span>
			</td>
			<td>
				<a href="" ng-click="value.$show()" ng-hide="value.$visible">Edit</a>
			</td>
		</tr>
</table>

<div id = 'kpi-edit' ui-view></div>

<div class = "btn btn-danger" ui-sref = 'client({id: kpi.clientId})'>Back</div>


<div class = "btn btn-default" ui-sref = 'kpi.edit' >Edit</div>
<div class = "btn btn-default" ng-click = 'deleteKpi()'>Delete</div>